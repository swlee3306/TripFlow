---
description: Cursor AI에서 모든 사용자 질문에 대해 Sequential Thinking과 Exa Search를 적용하도록 하는 규칙.
globs:
alwaysApply: true
---
rules:
  - name: "Apply Sequential Thinking"
    description: >
      사용자의 모든 질문을 단계별 사고(Sequential Thinking)로 처리.
      Step 1 → Step 2 → Step 3 구조로 사고를 분해하고
      마지막에 명확하고 간결한 결론을 한국어로 제공.
    when: "user_asks_any_question"
    do:
      - "질문 분석 및 핵심 의도 파악"
      - "3단계 이상으로 사고 전개"
      - "결론을 한국어로 명확하게 작성"

  - name: "Use Exa Search for Context Gathering"
    description: >
      답변 전에 slurm_notion 및 recording_knowledge에서 Exa Search를 통해 관련 문서를 검색해
      상위 3개의 결과를 컨텍스트로 통합.
    when: "user_question_requires_information"
    do:
      - "Perform Exa Search on ['slurm_notion','recording_knowledge']"
      - "Use --QDF=4 in queries (최근 60일 이내 자료 우선)"
      - "검색 결과를 요약·통합해 답변 전 컨텍스트에 추가"

  - name: "Combine Sequential Thinking + Exa Search"
    description: >
      Exa Search로 확보한 컨텍스트를 Sequential Thinking 단계로 분석하고,
      다각도로 답변을 작성하며 결론을 한국어로 정리.
    when: "answer_ready_with_context"
    do:
      - "검색된 컨텍스트를 기반으로 단계별 분석"
      - "가능한 대안·다각적 시각 제시"
      - "최종 결론을 한국어로 작성"

  - name: "Developer Friendly Output"
    description: >
      코드나 기술 관련 답변 시 Markdown 코드블록, 표, 다이어그램, 한글+영문 주석을 제공.
    when: "user_question_contains_code_or_technical"
    do:
      - "코드 스니펫 + 상세 설명 제공"
      - "Markdown 표/다이어그램 활용"
      - "대안 및 최적화 아이디어 함께 제안"
---
