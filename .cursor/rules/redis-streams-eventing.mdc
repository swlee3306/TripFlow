---
description: Redis Streams/채널 이벤트 파이프라인 규칙
globs:
  - "internal/**/redis/**.go"
  - "**/*stream*.go"
---

# REDIS STREAMS / EVENTS

**원칙**
- XADD 키 스키마: `<namespace>:events:<topic>`
- 소비자 그룹 고정, 클라이언트별 consumer name 포함
- 재처리 전략: pending idle >N ms 재할당, poison 메시지 DLQ 이동

**성능**
- 배치 읽기 + backoff, 메모리 누수 방지, 모니터링 메트릭 노출(xlen, lag 등)